{"ast":null,"code":"import _toConsumableArray from\"/Users/finnegan/projects/projects/goit/react/goit-react-hw-03-phonebook/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/finnegan/projects/projects/goit/react/goit-react-hw-03-phonebook/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/finnegan/projects/projects/goit/react/goit-react-hw-03-phonebook/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/finnegan/projects/projects/goit/react/goit-react-hw-03-phonebook/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/finnegan/projects/projects/goit/react/goit-react-hw-03-phonebook/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import ContactForm from\"./ContactForm/ContactForm\";import ContactList from\"./ContactList/ContactList\";import Filter from\"./Filter/Filter\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={contacts:[],filter:''};_this.addNewContact=function(data){_this.setState(function(prevState){return{contacts:[].concat(_toConsumableArray(prevState.contacts),[data])};});};_this.delContact=function(e){_this.setState(function(prevState){return{contacts:_toConsumableArray(prevState.contacts.filter(function(contact){return contact.id!==e.target.id;}))};});};_this.changeFilter=function(e){var value=e.currentTarget.value;_this.setState({filter:value});};_this.getVisibleContacts=function(){var _this$state=_this.state,filter=_this$state.filter,contacts=_this$state.contacts;var lowerFilter=filter.toLowerCase();return contacts.filter(function(contact){return contact.name.toLowerCase().includes(lowerFilter);});};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){var parsedContacts=JSON.parse(localStorage.getItem('contacts'));var initialContacts=[{id:'id-1',name:'Rosie Simpson',number:'459-12-56',sex:'female'},{id:'id-2',name:'Hermione Kline',number:'443-89-12',sex:'female'},{id:'id-3',name:'Eden Clements',number:'645-17-79',sex:'male'},{id:'id-4',name:'Annie Copeland',number:'227-91-26',sex:'female'}];if(parsedContacts){this.setState({contacts:parsedContacts});}this.setState({contacts:initialContacts});}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState){console.log(prevState);console.log(this.state);if(prevState.contacts!==this.state.contacts){localStorage.setItem('contacts',JSON.stringify(this.state.contacts));}}},{key:\"render\",value:function render(){var filteredContacts=this.getVisibleContacts();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Phonebook\"}),/*#__PURE__*/_jsx(ContactForm,{contacts:this.state.contacts,onSubmit:this.addNewContact}),/*#__PURE__*/_jsx(\"h2\",{children:\"Contacts\"}),/*#__PURE__*/_jsx(Filter,{handlerFilter:this.changeFilter,filter:this.state.filter}),/*#__PURE__*/_jsx(ContactList,{contacts:filteredContacts,handlerDel:this.delContact})]});}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["/Users/finnegan/projects/projects/goit/react/goit-react-hw-03-phonebook/src/App.js"],"names":["React","ContactForm","ContactList","Filter","App","state","contacts","filter","addNewContact","data","setState","prevState","delContact","e","contact","id","target","changeFilter","value","currentTarget","getVisibleContacts","lowerFilter","toLowerCase","name","includes","parsedContacts","JSON","parse","localStorage","getItem","initialContacts","number","sex","prevProps","console","log","setItem","stringify","filteredContacts","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport ContactForm from \"./ContactForm/ContactForm\";\nimport ContactList from \"./ContactList/ContactList\";\nimport Filter from \"./Filter/Filter\";\nimport PropTypes from \"prop-types\";\n\n\n\nclass App extends React.Component {\n\n    state = {\n        contacts: [],\n        filter: ''\n    }\n\n\n\n    addNewContact = (data) => {\n        this.setState(prevState => ({\n           contacts: [...prevState.contacts, data]\n        }))\n    }\n\n    delContact = e => {\n        this.setState(prevState => ({\n            contacts: [...prevState.contacts.filter(contact => contact.id !== e.target.id)]\n        }))\n    }\n\n    changeFilter = e => {\n        const {value} = e.currentTarget\n        this.setState({filter: value})\n    }\n\n    getVisibleContacts = () => {\n        const {filter, contacts} = this.state\n        const lowerFilter = filter.toLowerCase()\n\n        return contacts.filter(contact =>\n            contact.name.toLowerCase().includes(lowerFilter))\n    }\n\n    componentDidMount() {\n        const parsedContacts = JSON.parse(localStorage.getItem('contacts'))\n        const initialContacts = [\n            {id: 'id-1', name: 'Rosie Simpson', number: '459-12-56', sex: 'female'},\n            {id: 'id-2', name: 'Hermione Kline', number: '443-89-12', sex: 'female'},\n            {id: 'id-3', name: 'Eden Clements', number: '645-17-79', sex: 'male'},\n            {id: 'id-4', name: 'Annie Copeland', number: '227-91-26', sex: 'female'},\n        ]\n\n        if (parsedContacts) {\n            this.setState({contacts: parsedContacts})\n        } this.setState({contacts: initialContacts})\n\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        console.log(prevState)\n        console.log(this.state)\n\n        if (prevState.contacts !== this.state.contacts) {\n            localStorage.setItem('contacts', JSON.stringify(this.state.contacts))\n        }\n\n    }\n\n\n    render() {\n\n        const filteredContacts = this.getVisibleContacts()\n\n    return <>\n        <h1>Phonebook</h1>\n         <ContactForm\n             contacts={this.state.contacts}\n             onSubmit={this.addNewContact}/>\n\n        <h2>Contacts</h2>\n        <Filter handlerFilter={this.changeFilter}\n                filter={this.state.filter}/>\n        <ContactList contacts={filteredContacts}\n                     handlerDel={this.delContact}\n        />\n    </>\n  }\n}\n\nexport default App;\n\n\nApp.propTypes = {\n    filter: PropTypes.string,\n    contacts: PropTypes.arrayOf(\n        PropTypes.shape({\n            id: PropTypes.string.isRequired,\n            name: PropTypes.string.isRequired,\n            number: PropTypes.string,\n            sex: PropTypes.bool.isRequired\n        })\n    )\n};\n"]},"metadata":{},"sourceType":"module"}